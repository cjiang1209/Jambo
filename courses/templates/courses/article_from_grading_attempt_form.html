{% extends 'base.html' %}

{% load staticfiles %}

{% block script-head %}
<script src="{% static 'common/lib/ckeditor/ckeditor.js' %}"></script>
<script src="{% static 'common/lib/handlebars/handlebars.js' %}"></script>

<script src="{% static 'common/script/RichTextEditor.js' %}"></script>

<script>
$(document).ready(function() {
	var urlConfig = {
		contentId: {{gradingattempt.id}},
		getComment: "{% url 'courses:comment.detail' %}",
	};
			
	var rteditor = RichTextEditor.render('id_grading_attempt', '{% static 'common/miscellaneous/ckeditor_grading_view_config.js' %}');
	rteditor.supportComment(urlConfig, true);
});
</script>

{% endblock script-head %}

{% block content %}

<h2>{{ gradingattempt.article.submission_period.assignment.title }} - {{ gradingattempt.article.submission_period.assignment.course.title }}</h2>
<blockquote>{{ gradingattempt.article.submission_period.assignment.description }}</blockquote>

{% include "courses/form_errors.html" %}

<div class="row">
	<div class="col-md-6">
		<textarea id="id_grading_attempt" rows="10" cols="40">
			{{ gradingattempt.content | safe }}
		</textarea>
	</div>

	<div class="col-md-6">
		<form action="" method="post">
			{% csrf_token %}

			<div class="form-group">{{ form.content }}</div>

			<input class="btn btn-default" type="submit" value="Submit" />
		</form>
	</div>
</div>

{% endblock %}